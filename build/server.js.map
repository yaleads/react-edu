{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./initializers/server/index.js","webpack:///./initializers/server/render.js","webpack:///./src/App.js","webpack:///./src/actions/Cart.js","webpack:///./src/actions/Product.js","webpack:///./src/actions/Products.js","webpack:///./src/components/CartPage/CartForm.js","webpack:///./src/components/CartPage/CartFormContainer.js","webpack:///./src/components/CartPage/CartItems.js","webpack:///./src/components/CartPage/index.js","webpack:///./src/components/Contacts/ContactUsForm.js","webpack:///./src/components/Contacts/index.js","webpack:///./src/components/Forms/FormikCheckbox.js","webpack:///./src/components/Forms/FormikTextInput.js","webpack:///./src/components/Forms/TextInput.js","webpack:///./src/components/Gallery/FullScreen.js","webpack:///./src/components/Gallery/GoToFullScreenButton.js","webpack:///./src/components/Gallery/SwipeAbleImage.js","webpack:///./src/components/Gallery/index.js","webpack:///./src/components/Header/CartButton.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/NotFound/index.js","webpack:///./src/components/ProductCard/AddToCart.js","webpack:///./src/components/ProductCard/index.js","webpack:///./src/components/ProductPage/ProductPageView.js","webpack:///./src/components/ProductPage/index.js","webpack:///./src/components/ProductsPage/ProductsList.js","webpack:///./src/components/ProductsPage/ProductsPageView.js","webpack:///./src/components/ProductsPage/index.js","webpack:///./src/components/ProductsSlider/index.js","webpack:///./src/components/shared/Alert.js","webpack:///./src/components/shared/Image.js","webpack:///./src/components/shared/Price.js","webpack:///./src/components/shared/TextBox.js","webpack:///./src/constants/API.js","webpack:///./src/constants/actionTypes/Cart.js","webpack:///./src/constants/actionTypes/Product.js","webpack:///./src/constants/actionTypes/Products.js","webpack:///./src/helpers/historyCallBack.js","webpack:///./src/helpers/prepareData.js","webpack:///./src/helpers/routes.js","webpack:///./src/helpers/store.js","webpack:///./src/middleware/API.js","webpack:///./src/middleware/cartLocalStorage.js","webpack:///./src/reducers/Cart.js","webpack:///./src/reducers/Product.js","webpack:///./src/reducers/Products.js","webpack:///./src/reducers/index.js","webpack:///./src/routes/Cart.js","webpack:///./src/routes/Contacts.js","webpack:///./src/routes/NotFound.js","webpack:///./src/routes/Product.js","webpack:///./src/routes/Products.js","webpack:///./src/routes/index.js","webpack:///external \"express\"","webpack:///external \"formik\"","webpack:///external \"lodash/compact\"","webpack:///external \"lodash/map\"","webpack:///external \"lodash/object\"","webpack:///external \"path\"","webpack:///external \"pluralize\"","webpack:///external \"prop-types\"","webpack:///external \"qs\"","webpack:///external \"react\"","webpack:///external \"react-dom\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-redux\"","webpack:///external \"react-router\"","webpack:///external \"react-router-dom\"","webpack:///external \"reactstrap\"","webpack:///external \"redux\"","webpack:///external \"superagent\"","webpack:///external \"yup\""],"names":["manifest","require","app","express","PORT","process","env","use","path","resolve","cwd","set","get","req","res","render","then","result","status","content","initialState","JSON","stringify","listen","console","log","store","createStore","historyCallBack","routes","pathname","url","query","context","renderToString","getState","RouteWithSubroutes","route","key","AppRouter","history","children","location","__CLIENT__","__SERVER__","App","map","productImagePath","FullScreen","addProductToCart","product","count","type","types","loadCart","LOAD_CART","resetCart","RESET_CART","fetchProduct","id","API_CALL","method","fetchProducts","CartForm","values","errors","touched","isSubmitting","cart","fullName","email","phone","address","newsletter","propTypes","PropTypes","object","bool","CartFormContainer","withFormik","mapPropsToValues","handleSubmit","props","resetForm","setErrors","setSubmitting","setTimeout","alert","validationSchema","yup","shape","min","required","connect","CartItems","length","item","counterPrefix","title","CartPage","array","isRequired","mapStateToProps","state","items","ContactUsForm","e","preventDefault","form","field","setState","assign","value","counter","errorText","target","clearError","validateLength","name","comment","onSubmit","handleChange","React","Component","Contacts","FormikCheckbox","label","checked","string","FormikTextInput","invalid","size","Field","TextInput","placeholder","rows","error","onChange","number","func","image","goBack","stopPropagation","ReactDOM","createPortal","document","getElementById","GoToFullScreenButton","productId","currentImageIndex","currentImage","modal","SwipeAbleImage","touchStartX","touches","clientX","touchMoveX","onSwipe","undefined","width","height","className","onTouchStart","onTouchMove","onTouchEnd","Gallery","prevState","images","prevImage","direction","nextImage","index","CartButton","draggableProduct","parse","dataTransfer","getData","draggableCount","parseInt","catchDrop","cartPath","pluralize","cartItemsCounter","reduce","partialSum","i","Header","isOpen","productsPath","toggle","RRNavLink","contactsPath","NotFound","AddToCart","removeCount","textAlign","addCount","ProductCard","setData","price","imageUrl","onDragStart","productPath","ProductPageView","isLoading","ProductPage","isError","push","errorMessage","isFetching","ProductsList","products","ProductsPageView","sliderProducts","alertText","ProductsPage","ProductsSlider","currentIndex","interval","setInterval","nextSlide","clearInterval","prevSlide","Alert","text","Image","src","alt","onClickEvent","Price","textDecoration","TextBox","space","environment","accessToken","API_ROOT","ADD_PRODUCT_TO_CART","FETCH_PRODUCT_REQUEST","FETCH_PRODUCT_SUCCESS","FETCH_PRODUCT_ERROR","FETCH_PRODUCTS_REQUEST","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCTS_ERROR","params","some","match","matchPath","Object","prepareData","prepareDataFns","compact","Promise","all","INITIAL_STATE","reducers","applyMiddleware","APIMiddleware","CartLocalStorageMiddleware","APICall","reject","r","request","toLowerCase","end","data","body","nextAction","action","next","requestType","successType","errorType","promise","pick","response","serializedCart","localStorage","setItem","loadedCart","getItem","addNewProductToCart","currentItems","find","fields","forEach","combineReducers","component","dispatch","fetchProductPromise","loadCartPromise","exact","strict","fetchProductsPromise","Products","Product","Cart"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./initializers/server/index.js\");\n","import express from 'express';\nimport path from 'path';\nimport render from './render';\nconst manifest = require('../../public/manifest.json');\n\nconst app = express();\n\nconst PORT = process.env.PORT || 3001;\n\napp.use(express.static(path.resolve(process.cwd(), 'public')));\n\napp.set('views', path.resolve(process.cwd(), 'public'));\napp.set('view engine', 'ejs');\n\napp.get(\n  '*',\n  (req, res) => {\n    render(req, res)\n      .then((result) => {\n        res.status(200);\n        res.render(\n          'index',\n          {\n            content: result.content,\n            manifest,\n            initialState: JSON.stringify(result.initialState)\n          }\n        );\n      });\n\n\n  }\n);\n\napp.listen(\n  PORT,\n  () => console.log(`Server is running on ${PORT} port.`)\n);","import React from 'react';\nimport { renderToString } from 'react-dom/server';\n\nimport App from 'App';\n\nimport routes from 'routes';\nimport createStore from 'helpers/store';\nimport historyCallBack from 'helpers/historyCallBack';\n\nexport default (req, res) => {\n  const store = createStore();\n\n  return historyCallBack(store, routes, { pathname: req.url, query: req.query })\n    .then(() => {\n      const context = {};\n      return {\n        content: renderToString(<App store={store} location={req.url} context={context} />),\n        initialState: store.getState()\n      };\n    });\n};","/* globals __CLIENT__, __SERVER__*/\nimport React from 'react';\nimport { Router, Route, Switch, StaticRouter } from 'react-router-dom';\n\nimport { productImagePath }  from 'helpers/routes';\nimport { Provider } from 'react-redux';\nimport Header from 'components/Header';\nimport FullScreen from 'components/Gallery/FullScreen';\nimport routes from './routes';\n\nconst RouteWithSubroutes = (route, key) => (\n  <Route key={key} {...route} />\n);\n\nconst AppRouter = ({ history, children, location, context }) => {\n  if (__CLIENT__)\n    return (<Router history={history}>{children}</Router>);\n\n  if (__SERVER__)\n    return (<StaticRouter location={location} context={context}>{children}</StaticRouter>);\n};\n\nconst App = ({ history, store, location, context }) => (\n  <Provider store={store}>\n    <AppRouter history={history} location={location} context={context}>\n      <Header />\n\n      <Switch>\n        { routes.map((route, key) => RouteWithSubroutes(route, key)) }\n      </Switch>\n\n      <Route path={productImagePath()} component={FullScreen} />\n\n    </AppRouter>\n  </Provider>\n);\n\nexport default App;","import * as types from '../constants/actionTypes/Cart';\n\nexport const addProductToCart = (product, count) => ({\n  type:     types.ADD_PRODUCT_TO_CART,\n  product:  product,\n  count:    count\n});\n\nexport const loadCart = () => ({\n  type:     types.LOAD_CART\n});\n\nexport const resetCart = () => ({\n  type:     types.RESET_CART\n});\n\n","import * as types from '../constants/actionTypes/Product';\nimport { API_CALL } from 'middleware/API';\n\nexport function fetchProduct(id) {\n  return {\n    [API_CALL]: {\n      method: 'GET',\n      query: {'content_type': 'product', 'fields.id': id},\n      types: [\n        types.FETCH_PRODUCT_REQUEST,\n        types.FETCH_PRODUCT_SUCCESS,\n        types.FETCH_PRODUCT_ERROR\n      ]\n    }\n  }\n}","import * as types from '../constants/actionTypes/Products';\nimport { API_CALL } from 'middleware/API';\n\nexport function fetchProducts() {\n  return {\n    [API_CALL]: {\n      method: 'GET',\n      query: {'content_type': 'product'},\n      types: [\n        types.FETCH_PRODUCTS_REQUEST,\n        types.FETCH_PRODUCTS_SUCCESS,\n        types.FETCH_PRODUCTS_ERROR\n      ]\n    }\n  }\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form } from 'formik';\nimport { Button, Alert } from 'reactstrap';\nimport FormikTextInput from 'components/Forms/FormikTextInput';\nimport FormikCheckbox from 'components/Forms/FormikCheckbox';\n\nconst CartForm = ({ values, errors, touched, isSubmitting }) => (\n  <Form>\n    { touched && errors.cart && <Alert color=\"danger\">{errors.cart}</Alert>}\n\n    <FormikTextInput name='fullName'  label='Full Name' invalid={errors.fullName && touched.fullName} errorText={errors.fullName}  size='4' />\n    <FormikTextInput name='email'     label='Email'     invalid={errors.email && touched.email}       errorText={errors.email}     size='4' type='email' />\n    <FormikTextInput name='phone'     label='Phone'     invalid={errors.phone && touched.phone}       errorText={errors.phone}     size='4' />\n    <FormikTextInput name='address'   label='Address'   invalid={errors.address && touched.address}   errorText={errors.address}   size='8' />\n    <FormikCheckbox name='newsletter' label='Subscribe to our newsletter' checked={values.newsletter} />\n    <br />\n    <Button disabled={isSubmitting}>Submit</Button>\n  </Form>\n);\n\nCartForm.propTypes = {\n  values:  PropTypes.object,\n  errors:  PropTypes.object,\n  touched: PropTypes.object,\n  isSubmitting: PropTypes.bool,\n};\n\nexport default CartForm;","import React from 'react';\nimport { withFormik } from 'formik';\nimport CartForm from './CartForm';\nimport * as yup from 'yup';\nimport { resetCart } from 'actions/Cart';\nimport {connect} from 'react-redux';\n\nconst CartFormContainer = withFormik({\n  mapPropsToValues({ cart }) {\n    return {\n      cart: cart,\n      fullName: '',\n      phone: '',\n      email: '',\n      address: '',\n      newsletter: false\n    };\n  },\n  handleSubmit(values, { props, resetForm, setErrors, setSubmitting }) {\n    setTimeout(() => {\n      if (values.email === 'test@test.com')\n        setErrors({email: 'This email is blocked'});\n      else {\n        alert(JSON.stringify(values));\n        props.resetCart();\n        resetForm();\n      }\n\n      setSubmitting(false);\n    }, 2000);\n  },\n  validationSchema: yup.object().shape({\n    cart: yup.array()\n      .min(1, 'Your Cart is Empty'),\n    fullName: yup.string()\n      .min(3, 'Full Name should be at least 3 characters')\n      .required('Full Name field can\\'t be empty'),\n    phone: yup.string()\n      .min(10, 'Phone should be at least 10 characters')\n      .required('Phone field can\\'t be empty'),\n    email: yup.string()\n      .email('Wrong email format')\n      .required('Email field can\\'t be empty'),\n    address: yup.string()\n      .required('Address field can\\'t be empty')\n  })\n\n\n})(CartForm);\n\nexport default connect(null, { resetCart })(CartFormContainer);","import React from 'react';\n\nconst CartItems = ({ cart }) => {\n  if (cart.length > 0) {\n    return (\n      <div>\n        Details:\n        {cart.map(item => (\n          <li key={item.product.id}>{counterPrefix(item.count)}{item.product.title}</li>\n        ))}\n      </div>\n    );\n  }\n  else {\n    return (<p>No products in the Cart</p>);\n  }\n};\n\nconst counterPrefix = count => (count > 1 ? `${count} x ` : '');\n\nexport default CartItems;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport CartItems from './CartItems';\nimport CartFormContainer from './CartFormContainer';\n\nconst CartPage = ({ cart }) => (\n  <div className='container'>\n    <h1 className={'mt-3'}>Cart</h1>\n    <hr />\n\n    <CartItems cart={cart} />\n    <hr />\n    <CartFormContainer cart={cart} />\n  </div>\n);\n\nCartPage.propTypes = {\n  cart: PropTypes.array.isRequired,\n};\n\nconst mapStateToProps = state => ({ cart: state.cart.items });\n\nexport default connect(mapStateToProps)(CartPage);\n","import React from 'react';\nimport { Button, Form, FormGroup, Col } from 'reactstrap';\nimport { set, assign } from 'lodash/object';\nimport TextInput from 'components/Forms/TextInput';\n\nclass ContactUsForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      form: {\n        values: {\n          name: '',\n          email: '',\n          comment: ''\n        },\n        errors: {}\n      }\n    };\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    alert(JSON.stringify(this.state.form.values));\n  };\n\n  clearError = (field) => {\n    this.setState(\n      set(\n        assign({}, this.state),\n        ['form', 'errors', field],\n        ''\n      )\n    );\n  };\n\n  validateLength = (field, value, counter, errorText) => {\n    if (value.length < counter)\n      this.setState(\n        set(\n          assign({}, this.state),\n          ['form', 'errors', field],\n          errorText\n        )\n      );\n  };\n\n  handleChange = (field) => {\n    return (e) => {\n      const value = e.target.value;\n\n      switch (field) {\n        case 'name':\n          this.clearError('name');\n          this.validateLength('name', value, 3, 'Name is too short');\n          break;\n        case 'email':\n          this.clearError('email');\n          this.validateLength('email', value, 3, 'Email is too short');\n          break;\n      }\n\n      this.setState(\n        set(\n          assign({}, this.state),\n          ['form', 'values', field],\n          value\n        )\n      );\n    };\n  };\n\n  render() {\n    const { name, email, comment } = this.state.form.values;\n    return (\n      <Form onSubmit={this.onSubmit}>\n        <FormGroup row>\n          <Col sm={5}>\n            <TextInput\n              name='name'\n              label='Name'\n              placeholder='Enter your name'\n              value={name}\n              error={this.state.form.errors.name}\n              onChange={this.handleChange('name')}\n            />\n          </Col>\n        </FormGroup>\n        <FormGroup row>\n          <Col sm={5}>\n            <TextInput\n              type='email'\n              name='email'\n              label='Email'\n              placeholder='Enter your email'\n              value={email}\n              error={this.state.form.errors.email}\n              onChange={this.handleChange('email')}\n            />\n          </Col>\n        </FormGroup>\n        <TextInput\n          type='textarea'\n          rows={4}\n          name='comment'\n          label='Comment'\n          placeholder='Enter your comment'\n          value={comment}\n          error={this.state.form.errors.comment}\n          onChange={this.handleChange('comment')}\n        />\n\n        <br />\n        <Button>Submit</Button>\n      </Form>\n    );\n  }\n}\n\nexport default ContactUsForm;","import React from 'react';\nimport ContactUsForm from './ContactUsForm';\n\nconst Contacts = () => (\n  <div className='container'>\n    <h1 className={'mt-3'}>Contact us</h1>\n    <hr />\n\n    <ContactUsForm />\n  </div>\n);\n\nexport default Contacts;","import React from 'react';\nimport { Label, FormGroup } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport {Field} from 'formik';\n\nconst FormikCheckbox = ({ name, label, checked }) => (\n  <FormGroup check row>\n    <Label check>\n      <Field type=\"checkbox\" name={name} checked={checked}/>{' '}\n      { label }\n    </Label>\n  </FormGroup>\n);\n\nFormikCheckbox.propTypes = {\n  name:         PropTypes.string.isRequired,\n  label:        PropTypes.string.isRequired,\n  checked:      PropTypes.bool.isRequired,\n};\n\nexport default FormikCheckbox;","import React from 'react';\nimport { Label, Input, FormFeedback, FormGroup, Col } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { Field } from 'formik';\n\nconst FormikTextInput = ({ type, name, label, invalid, errorText, size }) => {\n  if (size)\n    return (\n      <FormGroup row>\n        <Col sm={size}>\n          <Label for={name}>{label}</Label>\n          <Input\n            type={type || 'text'}\n            name={name}\n            tag={Field}\n            invalid={invalid}\n          />\n          <FormFeedback>{errorText}</FormFeedback>\n        </Col>\n      </FormGroup>\n    );\n  else\n    return (\n      <FormGroup>\n        <Label for={name}>{label}</Label>\n        <Input\n          type={type || 'text'}\n          name={name}\n          tag={Field}\n          invalid={invalid}\n        />\n        <FormFeedback>{errorText}</FormFeedback>\n      </FormGroup>\n    );\n};\n\nFormikTextInput.propTypes = {\n  type:         PropTypes.string,\n  name:         PropTypes.string.isRequired,\n  label:        PropTypes.string.isRequired,\n  invalid:      PropTypes.bool,\n  errorText:   PropTypes.string\n};\n\nexport default FormikTextInput;","import React from 'react';\nimport { Label, Input, FormFeedback } from 'reactstrap';\nimport PropTypes from 'prop-types';\n\nconst TextInput = ({ type, name, label, placeholder, value, rows, error, onChange }) => (\n  <div>\n    <Label for={name}>{label || name}</Label>\n    <Input\n      type={type || 'text'}\n      name={name}\n      id={name}\n      placeholder={placeholder}\n      value={value}\n      rows={rows}\n      onChange={onChange}\n      invalid={!!error}\n    />\n    { !!error && <FormFeedback>{error}</FormFeedback> }\n\n  </div>\n\n);\n\nTextInput.propTypes = {\n  type:         PropTypes.string,\n  name:         PropTypes.string.isRequired,\n  label:        PropTypes.string,\n  placeholder:  PropTypes.string,\n  value:        PropTypes.string.isRequired,\n  rows:         PropTypes.number,\n  error:        PropTypes.string,\n  onChange:     PropTypes.func,\n};\n\nexport default TextInput;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Modal, ModalBody } from 'reactstrap';\nimport Image from '../shared/Image';\n\nconst FullScreen = ({ location: { state }, history }) => {\n  if (state) {\n    const image = state.image;\n\n    const goBack = e => {\n      e.stopPropagation();\n      history.goBack();\n    };\n\n    return (\n      <div>\n        {ReactDOM.createPortal(\n          <div>\n            <Modal isOpen={true} toggle={goBack} className={'modal-lg'}>\n              <ModalBody>\n                <Image src={image.url} width={'100%'} alt={image.title}/>\n                <p>{image.title}</p>\n              </ModalBody>\n            </Modal>\n          </div>,\n          document.getElementById('fullScreenGalleryContainer')\n        )}\n      </div>\n    );\n  }\n  else\n  {\n    return null;\n  }\n};\n\nexport default FullScreen;","import React from 'react';\nimport {Link} from \"react-router-dom\";\nimport { productImagePath }  from 'helpers/routes';\n\nconst GoToFullScreenButton = ({productId, currentImageIndex, currentImage}) => (\n  <Link className={'btn btn-primary mb-2'} to={{\n    pathname: productImagePath(productId, currentImageIndex),\n    state: {\n      modal: true,\n      image: currentImage\n    }\n  }}\n  >\n    Show full screen\n  </Link>\n);\n\nexport default GoToFullScreenButton;\n","import React from 'react';\n\nclass SwipeAbleImage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { touchStartX: undefined, touchMoveX: undefined };\n  }\n\n  onTouchStart = (e) => { this.setState( {touchStartX: e.touches[0].clientX} ) };\n  onTouchMove  = (e) => { this.setState( {touchMoveX:  e.touches[0].clientX} ) };\n  onTouchEnd = () =>  {\n    if (this.state.touchMoveX > this.state.touchStartX ) { this.props.onSwipe('right') }\n    if (this.state.touchMoveX < this.state.touchStartX ) { this.props.onSwipe('left') }\n  };\n\n\n  render () {\n    const {currentImage, width, height, className} = this.props;\n    return (\n      <img\n        src={currentImage.url}\n        width={width}\n        height={height}\n        alt={currentImage.title}\n        className={className}\n        onTouchStart={ this.onTouchStart }\n        onTouchMove={ this.onTouchMove }\n        onTouchEnd={ this.onTouchEnd }\n      />\n    )\n  }\n}\n\nexport default SwipeAbleImage;","import React from 'react';\nimport Image from '../shared/Image';\nimport GoToFullScreenButton from './GoToFullScreenButton';\nimport SwipeAbleImage from './SwipeAbleImage';\n\nclass Gallery extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { currentImageIndex: 0 };\n  }\n\n  prevImage = () => { this.setState( prevState => ({ currentImageIndex: (prevState.currentImageIndex - 1 + this.props.images.length) % this.props.images.length }) ) };\n  nextImage = () => { this.setState( prevState => ({ currentImageIndex: (prevState.currentImageIndex + 1) % this.props.images.length }) ) };\n\n  render () {\n    const images = this.props.images;\n\n    if (images) {\n      const productId = this.props.productId;\n      const currentImage = this.props.images[this.state.currentImageIndex];\n\n      return (\n        <div className={'mb-5'}>\n          <h4 className=\"mt-5\">Product Galery:</h4>\n\n          <button onClick={this.prevImage}>&lt;</button>\n\n          <SwipeAbleImage\n            currentImage={currentImage}\n            width={600}\n            height={400}\n            className={'mb-2'}\n            onSwipe={(direction) => ( direction === 'right' ? this.prevImage() : this.nextImage() ) }\n          />\n\n          <button onClick={this.nextImage}>&gt;</button>\n\n          <br />\n\n          <GoToFullScreenButton productId={productId} currentImageIndex={this.state.currentImageIndex} currentImage={currentImage} />\n\n          <br />\n\n          {images.map((image, index) => (\n            <Image\n              key={index}\n              src={image.url}\n              width={120}\n              height={80}\n              alt={image.title}\n              onClickEvent={ () => this.setState( { currentImageIndex: index }) } />\n            )\n          )}\n\n        </div>\n      )\n    }\n\n    else\n      return (<h4 className=\"mt-5\">No images in Gallery</h4>)\n\n  }\n}\n\nexport default Gallery;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { cartPath } from 'helpers/routes';\nimport pluralize from 'pluralize';\nimport { connect } from 'react-redux';\nimport { addProductToCart } from 'actions/Cart';\n\nclass CartButton extends Component {\n  catchDrop(e) {\n    const draggableProduct = JSON.parse(e.dataTransfer.getData('productDraggableObject'));\n    const draggableCount = parseInt(e.dataTransfer.getData('productDraggableCount'));\n\n    // ,    \n    draggableProduct && draggableCount && this.props.addProductToCart(draggableProduct, draggableCount);\n  }\n\n  render () {\n    return (\n      <div onDrop={(e) => this.catchDrop(e)} onDragOver={(e) => e.preventDefault()}>\n        <NavLink to={ cartPath() } className='btn btn-outline-success my-2 my-sm-0'>\n          Cart: {pluralize('item', this.props.cartItemsCounter, true)}\n        </NavLink>\n      </div>\n    );\n  }\n}\n\nCartButton.propTypes = {\n  addProductToCart: PropTypes.func.isRequired,\n  cartItemsCounter: PropTypes.number.isRequired\n};\n\nconst mapStateToProps = state => {\n  const cartItemsCounter = state.cart.items.reduce((partialSum, i) => partialSum + i.count, 0);\n\n  return { cartItemsCounter };\n};\n\nexport default connect(mapStateToProps, { addProductToCart })(CartButton);\n","import React from 'react';\nimport { Collapse, Navbar, NavbarToggler, NavbarBrand, Nav, NavItem, NavLink } from 'reactstrap';\nimport { NavLink as RRNavLink } from 'react-router-dom';\nimport { productsPath, contactsPath, cartPath } from 'helpers/routes';\nimport CartButton from './CartButton';\n\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { isOpen: false };\n  }\n\n  toggle = () =>  { this.setState({ isOpen: !this.state.isOpen }); };\n\n  render() {\n    return (\n      <div>\n        <Navbar color=\"light\" light expand=\"md\">\n          <NavbarBrand href={productsPath()}>React App</NavbarBrand>\n          <NavbarToggler onClick={this.toggle} />\n          <Collapse isOpen={this.state.isOpen} navbar>\n            <Nav navbar>\n              <NavItem><NavLink tag={RRNavLink} exact to={productsPath()} activeClassName=\"active\">Catalog</NavLink></NavItem>\n              <NavItem><NavLink tag={RRNavLink}       to={contactsPath()} activeClassName=\"active\">Contacts</NavLink></NavItem>\n              <NavItem><NavLink tag={RRNavLink}       to={cartPath()    } activeClassName=\"active\">Cart</NavLink></NavItem>\n            </Nav>\n          </Collapse>\n\n          <CartButton />\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default Header;","import React from 'react';\n\nconst NotFound = () => (\n  <div className='container'>\n    <h1 className={'mt-3'}>404</h1>\n    <hr />\n\n    <p>Can't find such page</p>\n  </div>\n);\n\nexport default NotFound;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { addProductToCart } from 'actions/Cart';\n\nclass AddToCart extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {count: 1};\n  }\n\n  addCount    = () => { this.setState( (prevState) => ( {count: prevState.count + 1 })) };\n  removeCount = () => { this.setState( (prevState) => ( {count: (prevState.count === 1 ? 1 : prevState.count - 1 ) })) };\n\n  render () {\n    const { product, addProductToCart } = this.props;\n    const count = this.state.count;\n\n    return (\n      <>\n        <p>\n          <span>\n            <button onClick={this.removeCount}>-</button>\n            <input id={`add_product_${product.id}_to_cart_counter`} value={count} readOnly style={{width: '40px', textAlign: 'center' }}/>\n            <button onClick={this.addCount}>+</button>\n          </span>\n        </p>\n\n        <p>\n          <button onClick={ () => addProductToCart(product, count) }>Add to Cart</button>\n        </p>\n      </>\n    )\n  }\n}\n\nAddToCart.propTypes = {\n  product:    PropTypes.object.isRequired\n};\n\nexport default connect(null, { addProductToCart })(AddToCart);\n","import React, { Component } from 'react';\nimport Image from 'components/shared/Image';\nimport TextBox from 'components/shared/TextBox';\nimport Price from 'components/shared/Price';\nimport AddToCart from './AddToCart';\nimport { NavLink } from 'react-router-dom';\nimport { productPath } from 'helpers/routes';\n\nclass ProductCard extends Component {\n\n  onDragStart = (e, product) => {\n    e.dataTransfer.setData('productDraggableObject', JSON.stringify(product));\n    e.dataTransfer.setData('productDraggableCount', document.getElementById(`add_product_${product.id}_to_cart_counter`).value);\n  };\n\n  render () {\n    const { id, title, price, imageUrl } = this.props.product;\n    const product = this.props.product;\n\n    return (\n      <div key={id} id={id} draggable onDragStart={(e) => this.onDragStart(e, product) } className='row mb-3 mt-3 border pt-3 pb-3' >\n        <div className='col-md-4'>\n          <Image src={imageUrl} width='180' height='250' alt={title}/>\n        </div>\n        <div className='col-md-6'>\n          <h4>\n            <NavLink to={productPath(id)}>\n              <TextBox text={title}/>\n            </NavLink>\n          </h4>\n\n          <p><Price price={price}/></p>\n\n          <AddToCart product={product}/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProductCard;","import React from 'react';\nimport ProductCard from 'components/ProductCard';\nimport Gallery from 'components/Gallery';\n\n\nconst ProductPageView = ({ isLoading, product} ) => (\n  <div className='container'>\n    <h1 className={'mt-3'}>Product Page</h1>\n    <hr/>\n    {  isLoading ? <p>Loading product Info...</p> : <ProductCard product={product}/> }\n    { !isLoading && <Gallery images={product.images} productId={product.id}/> }\n  </div>\n);\n\nexport default ProductPageView;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport ProductPageView from './ProductPageView'\nimport { productsPath } from 'helpers/routes'\n\n\nclass ProductPage extends React.Component {\n  componentDidUpdate() {\n    if (this.props.isError) {\n      this.props.history.push({\n        pathname: productsPath(),\n        state: { errorMessage: 'ProductPage not found' }\n      });\n    }\n  }\n\n  render () {\n    const { product, isFetching, isError } = this.props;\n    return <ProductPageView product={product} isFetching={isFetching} isError={isError} />\n  }\n}\n\nProductPage.propTypes = {\n  product:      PropTypes.object.isRequired,\n  isFetching:   PropTypes.bool.isRequired,\n  isError:      PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  product:    state.product.item,\n  isFetching: state.product.isFetching,\n  isError:    state.product.isError\n});\n\nexport default connect(mapStateToProps)(ProductPage);\n","import React from 'react';\nimport ProductCard from 'components/ProductCard';\n\nconst ProductsList = ({ products }) => (\n  <div>\n    {products.map((product) => <ProductCard product={product} key={product.id}/>)}\n  </div>\n);\n\nexport default ProductsList;\n\n","import React from 'react';\nimport ProductsList from './ProductsList';\nimport Alert from 'components/shared/Alert';\nimport ProductSlider from 'components/ProductsSlider';\n\nconst ProductsPageView = ({products, sliderProducts, alertText, isFetching, isError}) => (\n  <div className='container'>\n    <Alert text={ alertText }/>\n\n    {sliderProducts.length > 0 && <ProductSlider products={sliderProducts}/>}\n\n    <h1 className={'mt-3'}>Products Catalog</h1>\n    <hr />\n\n    { isFetching && <p> ...</p> }\n    { isError    && <p>   </p> }\n    { products   && <ProductsList products={products} />  }\n\n  </div>\n);\n\nexport default ProductsPageView;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { fetchProducts } from 'actions/Products';\nimport ProductsPageView from './ProductsPageView';\n\nclass ProductsPage extends React.Component {\n  componentDidMount() {\n    this.props.fetchProducts();\n  }\n\n  render() {\n    const {products, isFetching, isError } = this.props;\n    const alertText = this.props.location.state && this.props.location.state.errorMessage;\n    return (\n      <ProductsPageView\n        products={products}\n        sliderProducts={products}\n        alertText={alertText}\n        isFetching={isFetching}\n        isError={isError}\n      />\n    )\n\n  }\n}\n\nProductsPage.propTypes = {\n  fetchProducts:  PropTypes.func.isRequired,\n  products:       PropTypes.array.isRequired,\n  isFetching:     PropTypes.bool.isRequired,\n  isError:        PropTypes.bool.isRequired\n};\n\nconst mapStateToProps = state => ({\n  products:   state.products.items,\n  isFetching: state.products.isFetching,\n  isError:    state.products.isError\n});\n\nexport default connect(mapStateToProps, { fetchProducts })(ProductsPage);","import React from 'react';\nimport ProductCard from 'components/ProductCard';\n\nclass ProductsSlider extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {currentIndex: 0};\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.nextSlide(), 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  prevSlide = () => { this.setState( prevState => ({ currentIndex: (prevState.currentIndex - 1 + this.props.products.length) % this.props.products.length }) ) };\n  nextSlide = () => { this.setState( prevState => ({ currentIndex: (prevState.currentIndex + 1) % this.props.products.length }) ) };\n\n\n  render () {\n    const products = this.props.products;\n    const currentIndex = this.state.currentIndex;\n\n    return (\n      <div className={'row my-5'}>\n        <div className={'col-10 col-sm-10 col-md-6'}>\n          <ProductCard product={products[currentIndex]} />\n        </div>\n        <div className={'col-2 col-sm-2 col-md-2 pt-5'}>\n          <button onClick={this.prevSlide} className={'mb-2'}>Prev</button>\n          <br />\n          <button onClick={this.nextSlide}>Next</button>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default ProductsSlider;","import React from 'react';\nimport { UncontrolledAlert } from 'reactstrap';\n\nconst Alert = ({type = 'danger', text = undefined}) => {\n  if (text !== undefined) {\n    return (\n      <UncontrolledAlert color={type}>\n        {text}\n      </UncontrolledAlert>\n    )\n  }\n  else return null;\n};\n\nexport default Alert;","import React from 'react'\n\nfunction Image({src, width, height, alt, className, onClickEvent}){\n  return (\n    <img\n      src={src}\n      width={width}\n      height={height}\n      alt={alt}\n      className={className}\n      onClick={onClickEvent}\n    />\n  )\n}\n\nexport default Image;","import React from 'react'\n\nfunction Price({ price }){\n  return (\n    <span style={{ textDecoration: 'underline' }}>${price}</span>\n  )\n}\n\nexport default Price;","import React from 'react'\n\nfunction TextBox({ text }){\n  return (\n    <span>{text}</span>\n  )\n}\n\nexport default TextBox;","const space = 'g7q8snx9jra2';\nconst environment = 'master';\nconst accessToken = 'pVBy5AYglq6O9vq_Otzu-uiWcbigl5nu9O85qdTlfVQ';\n\nexport const API_ROOT = `https://cdn.contentful.com/spaces/${space}/environments/${environment}/entries?access_token=${accessToken}`;","export const ADD_PRODUCT_TO_CART = 'ADD_PRODUCT_TO_CART';\nexport const LOAD_CART = 'LOAD_CART';\nexport const RESET_CART = 'RESET_CART';\n","export const FETCH_PRODUCT_REQUEST = 'FETCH_PRODUCT_REQUEST';\nexport const FETCH_PRODUCT_SUCCESS = 'FETCH_PRODUCT_SUCCESS';\nexport const FETCH_PRODUCT_ERROR = 'FETCH_PRODUCT_ERROR';\n","export const FETCH_PRODUCTS_REQUEST = 'FETCH_PRODUCTS_REQUEST';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_ERROR = 'FETCH_PRODUCTS_ERROR';\n","/* globals __CLIENT__, __SERVER__ */\n\nimport {matchPath} from 'react-router';\nimport {parse} from 'qs';\nimport prepareData from 'helpers/prepareData';\n\nexport default function historyCallBack(store, routes, location) {\n  const state = { params: {}, query: {}, routes: [] };\n\n  console.log('historyCallBack START');\n  console.log(store);\n  console.log(routes);\n  console.log(location);\n  console.log('historyCallBack END');\n\n  routes.some((route) => {\n    const match = matchPath(location.pathname, route);\n\n    if (match) {\n      state.routes.push(route);\n\n\n      Object.assign(state.params, match.params);\n\n      if (__CLIENT__)\n        Object.assign(state.query, parse(location.search.substr(1)));\n\n      if (__SERVER__)\n        state.query = location.query;\n    }\n\n    return match;\n  });\n\n  return prepareData(store, state);\n}","import compact from 'lodash/compact';\nimport map from 'lodash/map';\n\nexport default function(store, state) {\n  const { location, query, params, routes } = state;\n\n  const prepareDataFns = compact(map(routes, route => route.prepareData));\n\n  return Promise.all(\n    map(\n      prepareDataFns,\n      prepareData => prepareData(store, query, params, location)\n    )\n  );\n}","export const productsPath       = ()                              => '/';\nexport const cartPath           = ()                              => '/cart';\nexport const contactsPath       = ()                              => '/contacts';\nexport const productPath        = (id = ':id')                    => `/products/${id}`;\nexport const productImagePath   = (id = ':id', index = ':index')  => `/products/${id}/img/${index}`;\n","/* globals __CLIENT__, __SERVER__  */\nimport { createStore, applyMiddleware, compose } from 'redux';\n\nimport reducers from '../reducers';\nimport APIMiddleware from 'middleware/API';\nimport CartLocalStorageMiddleware from 'middleware/cartLocalStorage';\n\nexport default function (INITIAL_STATE = {}) {\n  if (__CLIENT__)\n    return createStore(\n      reducers,\n      INITIAL_STATE,\n      compose(\n        applyMiddleware(APIMiddleware, CartLocalStorageMiddleware),\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n      )\n    );\n\n  if (__SERVER__)\n    return createStore(\n      reducers,\n      INITIAL_STATE,\n      applyMiddleware(APIMiddleware, CartLocalStorageMiddleware)\n    );\n};","import request from 'superagent';\n\nimport { stringify  } from 'qs';\nimport { assign, pick } from 'lodash/object';\n\nimport { API_ROOT } from 'constants/API';\n\nfunction APICall({ method, query}) {\n  return new Promise((resolve, reject) => {\n    let r = request[method.toLowerCase()](`${API_ROOT}`);\n\n    if (query)\n      r.query(stringify(query));\n\n    r.end((error, data) => (\n      error ?\n        reject(error)\n        : resolve(data.body)\n    )\n    );\n  });\n}\n\nexport const API_CALL = 'API_CALL';\n\nconst nextAction = (action, data) => (\n  assign({}, action, data, { [API_CALL]: undefined })\n);\n\nexport default store => next => action => {\n  if (!action[API_CALL]) return next(action);\n\n  const [requestType, successType, errorType] = action[API_CALL].types;\n\n  next(nextAction(action, {type: requestType}));\n\n  const promise = APICall(\n    pick(action[API_CALL], ['method', 'query'])\n  );\n\n  promise.then(\n    (response) => next(\n      nextAction(action, {response, type: successType})\n    ),\n    (error) => next(\n      nextAction(action, {error, type: errorType})\n    )\n  );\n\n  return promise;\n};","import * as types from '../constants/actionTypes/Cart';\nimport { assign } from 'lodash/object';\n\nexport default store => next => action => {\n  switch(action.type) {\n    case types.ADD_PRODUCT_TO_CART:\n      next(action);\n\n      try {\n        const serializedCart = JSON.stringify(store.getState().cart.items);\n        localStorage.setItem('cart', serializedCart);\n      } catch (e) {}\n\n      return null;\n\n    case types.LOAD_CART:\n      let loadedCart = [];\n\n      try {\n        const serializedCart = localStorage.getItem('cart');\n        if (serializedCart)\n          loadedCart = JSON.parse(serializedCart);\n      } catch (e) {}\n\n      return next(assign({}, action, {cart: loadedCart}));\n\n    case types.RESET_CART:\n      next(action);\n\n      try {\n        localStorage.setItem('cart', {});\n      } catch (e) {}\n\n      return null;\n\n\n    default:\n      return next(action);\n  }\n};\n\n","import { assign } from 'lodash/object';\nimport * as types from 'constants/actionTypes/Cart';\n\nconst initialState = {\n  items: []\n};\n\nconst addNewProductToCart = (currentItems, product, count) => {\n  const item = currentItems.find(item => item.product.id === product.id);\n\n  if (item === undefined) {\n    //       \n    return [...currentItems, {product, count}];\n  }\n  else\n  {\n    //      \n    return currentItems.map(item => (\n      {\n        product: item.product,\n        count: item.count + (item.product.id === product.id ? count : 0)\n      })\n    );\n  }\n};\n\n\nexport default function(state = initialState, action) {\n  switch (action.type) {\n    case types.ADD_PRODUCT_TO_CART:\n      return assign({}, initialState, { items: addNewProductToCart(state.items, action.product, action.count) });\n    case types.LOAD_CART:\n      return assign({}, initialState, { items: action.cart });\n    case types.RESET_CART:\n      return assign({}, initialState, { items: [] });\n    default:\n      return state;\n  }\n}","import { assign } from 'lodash/object';\nimport * as types from 'constants/actionTypes/Product';\n\nconst initialState = {\n  isFetching: false,\n  isError: false,\n  item: {}\n};\n\nexport  default function(state = initialState, action) {\n  switch(action.type) {\n    case types.FETCH_PRODUCT_REQUEST:\n      return assign({}, initialState, { isFetching: true});\n    case types.FETCH_PRODUCT_ERROR:\n      return assign({}, initialState, { isError: true});\n    case types.FETCH_PRODUCT_SUCCESS:\n      if (action.response.items.length > 0)\n        return assign({}, initialState, { item: action.response.items[0].fields });\n      else\n        return assign({}, initialState, { isError: true});\n    default:\n      return state;\n  }\n}","import { assign } from 'lodash/object';\nimport * as types from 'constants/actionTypes/Products';\n\nconst initialState = {\n  isFetching: false,\n  isError: false,\n  items: []\n};\n\nexport  default function(state = initialState, action) {\n  switch(action.type) {\n    case types.FETCH_PRODUCTS_REQUEST:\n      return assign({}, initialState, { isFetching: true});\n    case types.FETCH_PRODUCTS_ERROR:\n      return assign({}, initialState, { isError: true});\n    case types.FETCH_PRODUCTS_SUCCESS:\n      let products = [];\n      action.response.items.forEach( item => ( products.push(item.fields) ));\n\n      return assign({}, initialState, { items: products });\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux'\n\nimport cart     from './Cart'\nimport product  from './Product'\nimport products from './Products'\n\nexport default combineReducers({\n  products,\n  product,\n  cart\n})","import CartPage from 'components/CartPage';\nimport { cartPath } from 'helpers/routes';\nimport { loadCart } from 'actions/Cart';\n\nexport default {\n  path: cartPath(),\n  component: CartPage,\n  prepareData: (store) => store.dispatch(loadCart())\n};","import Contacts from 'components/Contacts';\nimport { contactsPath } from 'helpers/routes';\nimport { loadCart } from 'actions/Cart';\n\nexport default {\n  path: contactsPath(),\n  component: Contacts,\n  prepareData: (store) => store.dispatch(loadCart())\n};","import NotFound from 'components/NotFound';\n\nexport default {\n  component: NotFound\n};","import React from 'react';\n\nimport ProductPage from 'components/ProductPage';\nimport { productPath } from 'helpers/routes';\nimport { fetchProduct } from 'actions/Product';\nimport { loadCart } from 'actions/Cart';\n\nexport default {\n  path: productPath(),\n  render: ({ match, history }) => (\n    <ProductPage id={match.params.id} history={history} />\n  ),\n  prepareData: (store, query, params) => {\n    const fetchProductPromise = store.dispatch(fetchProduct(params.id));\n    const loadCartPromise = store.dispatch(loadCart());\n\n    return Promise.all([fetchProductPromise, loadCartPromise]);\n  }\n};\n","import ProductsPage from 'components/ProductsPage';\nimport { productsPath } from 'helpers/routes';\nimport { fetchProducts } from 'actions/Products';\nimport { loadCart } from 'actions/Cart';\n\nexport default {\n  path: productsPath(),\n  component: ProductsPage,\n  exact: true,\n  strict: true,\n  prepareData: (store) => {\n    const fetchProductsPromise = store.dispatch(fetchProducts());\n    const loadCartPromise = store.dispatch(loadCart());\n\n    return Promise.all([fetchProductsPromise, loadCartPromise]);\n  }\n};","import Products from './Products';\nimport Product  from './Product';\nimport Contacts from './Contacts';\nimport Cart     from './Cart';\nimport NotFound from './NotFound';\n\nexport default [Products, Product, Contacts, Cart, NotFound];","module.exports = require(\"express\");","module.exports = require(\"formik\");","module.exports = require(\"lodash/compact\");","module.exports = require(\"lodash/map\");","module.exports = require(\"lodash/object\");","module.exports = require(\"path\");","module.exports = require(\"pluralize\");","module.exports = require(\"prop-types\");","module.exports = require(\"qs\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-router\");","module.exports = require(\"react-router-dom\");","module.exports = require(\"reactstrap\");","module.exports = require(\"redux\");","module.exports = require(\"superagent\");","module.exports = require(\"yup\");"],"sourceRoot":""}